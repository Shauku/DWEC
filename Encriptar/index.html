<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <div>
            <h1>Encriptador</h1>
            <input id="ienc" type="text" />
            <button id="encr" onclick="javascript:encriptar();">Encriptar!</button>
            <p id="enc"></p>
            <br/>
            <br/>
            <input id="denc" type="text"/>
            <button id="desn" onclick="javascript:desencriptar();">Desencriptar!</button>
            <p id="desenc"></p>
        </div>
        <script> 
            var data = new Date;
            var mes = data.getMonth();
            
            function encriptar(){
                var result = "";
                var text = document.getElementById("ienc").value;
                for (var i=0;i<text.length;i++){
                    var c = text.toString().charAt(i);
                    var ascii = c.charCodeAt(0);
                    ascii = Math.pow(ascii, 2);
                    ascii = ascii+mes;
                    result+= String.fromCharCode(ascii);
                }
                result+="#";
                result+=mes;
                document.getElementById("enc").innerHTML = result;
            }
            
            function desencriptar() {
                var result = "a";
                var text = document.getElementById("denc").value;
                var array=text.toString().split("#");
                for (var x in array[0]){
                    var ascii = x.charCodeAt(0);
                    ascii = ascii-mes;
                    ascii = Math.sqrt(2);
                    result+=String.fromCharCode(ascii);
                }
                document.getElementById("desenc").innerHTML = result;
            }
        </script>
    </body>
</html>
